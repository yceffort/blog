@import 'tailwindcss';

/* stylelint-disable-next-line scss/at-rule-no-unknown */
@config '../../tailwind.config.js';

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentColor);
    }
    body {
        @apply bg-white text-black antialiased dark:bg-gray-800 dark:text-white min-h-screen;
    }
}

.remark-code-title {
    @apply px-5 py-3 font-mono text-sm font-bold text-gray-200 bg-gray-700 rounded-t;
}
.remark-code-title + pre {
    @apply mt-0 rounded-t-none;
}
.task-list-item:before {
    @apply hidden;
}
html {
    scroll-behavior: smooth;
}
a {
    word-break: break-all;
}
.math-display {
    overflow-x: auto;
}
h2 > a > span.icon.icon-link {
    width: 18px;
    height: 18px;
}
h3 > a > span.icon.icon-link {
    width: 15px;
    height: 15px;
}
h4 > a > span.icon.icon-link {
    width: 12px;
    height: 12px;
}
span.icon.icon-link {
    display: inline-block;
    width: 15px;
    height: 15px;
    margin-right: 2px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 490 490' style='enable-background:new 0 0 490 490;' xml:space='preserve'%3E%3Cpath d='M64.333 490h58.401l33.878-137.69h122.259L245.39 490h58.401l33.878-137.69h119.92v-48.162h-108.24l29.2-117.324h79.04v-48.162H390.23L424.108 0H365.31l-33.878 138.661H208.79L242.668 0h-58.415l-33.864 138.661H32.411v48.162h106.298l-28.818 117.324h-77.48v48.162h65.8L64.333 490zM197.11 186.824h122.642l-29.2 117.324h-122.26l28.818-117.324z'/%3E%3C/svg%3E");
}
.dark span.icon.icon-link {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 490 490' style='enable-background:new 0 0 490 490; fill:white;' xml:space='preserve'%3E%3Cpath d='M64.333 490h58.401l33.878-137.69h122.259L245.39 490h58.401l33.878-137.69h119.92v-48.162h-108.24l29.2-117.324h79.04v-48.162H390.23L424.108 0H365.31l-33.878 138.661H208.79L242.668 0h-58.415l-33.864 138.661H32.411v48.162h106.298l-28.818 117.324h-77.48v48.162h65.8L64.333 490zM197.11 186.824h122.642l-29.2 117.324h-122.26l28.818-117.324z'/%3E%3C/svg%3E");
}
pre {
    overflow-x: auto;
}
code {
    word-wrap: break-word;
}

/**
 * Inspired by gatsby remark prism - https://www.gatsbyjs.com/plugins/gatsby-remark-prismjs/
 * 1. Make the element just wide enough to fit its content.
 * 2. Always fill the visible space in .code-highlight.
 */

.code-highlight {
    float: left; /* 1 */
    min-width: 100%; /* 2 */
}
.code-line {
    display: block;
    margin-right: -16px;
    margin-left: -16px;
    padding-right: 16px;
    padding-left: 16px;
    border-left-width: 4px;
    border-left-color: rgba(31, 41, 55, 0); /* Set code block color */
}
.code-line.inserted {
    background-color: rgba(16, 185, 129, 0.2); /* Set inserted line (+) color */
}
.code-line.deleted {
    background-color: rgba(239, 68, 68, 0.2); /* Set deleted line (-) color */
}
.highlight-line {
    margin-right: -16px;
    margin-left: -16px;
    border-left-width: 4px;
    border-left-color: rgb(59, 130, 246); /* Set highlight accent border color */
    background-color: rgba(55, 65, 81, 0.5); /* Set highlight bg color */
}
.line-number::before {
    content: attr(line);
    display: inline-block;
    width: 1rem;
    margin-right: 16px;
    margin-left: -8px;
    text-align: right;
    color: rgb(156, 163, 175); /* Line number color */
}

/* Hero: Aurora drift */
@keyframes aurora-drift-1 {
  0%,
  100% {
    transform: rotate(-8deg) translateX(0) translateY(0);
  }
  25% {
    transform: rotate(-6deg) translateX(5%) translateY(-3%);
  }
  50% {
    transform: rotate(-10deg) translateX(-3%) translateY(2%);
  }
  75% {
    transform: rotate(-7deg) translateX(4%) translateY(-1%);
  }
}
@keyframes aurora-drift-2 {
  0%,
  100% {
    transform: rotate(-5deg) translateX(0) translateY(0);
  }
  33% {
    transform: rotate(-3deg) translateX(-4%) translateY(4%);
  }
  66% {
    transform: rotate(-7deg) translateX(3%) translateY(-2%);
  }
}
@keyframes aurora-drift-3 {
  0%,
  100% {
    transform: rotate(-12deg) translateX(0) translateY(0);
    opacity: 0.6;
  }
  50% {
    transform: rotate(-9deg) translateX(6%) translateY(-5%);
    opacity: 1;
  }
}
@keyframes aurora-drift-4 {
  0%,
  100% {
    transform: rotate(3deg) translateX(0) translateY(0);
    opacity: 0.5;
  }
  50% {
    transform: rotate(5deg) translateX(-5%) translateY(3%);
    opacity: 0.8;
  }
}
.hero-aurora-1 {
  animation: aurora-drift-1 12s ease-in-out infinite;
}
.hero-aurora-2 {
  animation: aurora-drift-2 15s ease-in-out infinite;
}
.hero-aurora-3 {
  animation: aurora-drift-3 10s ease-in-out infinite;
}
.hero-aurora-4 {
  animation: aurora-drift-4 13s ease-in-out infinite;
}

/* Hero: Orbiting rings */
@keyframes ring-spin-1 {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
@keyframes ring-spin-2 {
  from {
    transform: rotate(120deg);
  }
  to {
    transform: rotate(-240deg);
  }
}
@keyframes ring-spin-3 {
  from {
    transform: rotate(240deg);
  }
  to {
    transform: rotate(600deg);
  }
}
.hero-ring-1 {
  animation: ring-spin-1 25s linear infinite;
}
.hero-ring-2 {
  animation: ring-spin-2 20s linear infinite;
}
.hero-ring-3 {
  animation: ring-spin-3 30s linear infinite;
}

/* Hero: Floating dots */
@keyframes dot-float-0 {
  0%,
  100% {
    transform: translate(0, 0);
  }
  33% {
    transform: translate(40px, -50px);
  }
  66% {
    transform: translate(-30px, 40px);
  }
}
@keyframes dot-float-1 {
  0%,
  100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(-50px, 30px);
  }
  50% {
    transform: translate(40px, 50px);
  }
  75% {
    transform: translate(-20px, -40px);
  }
}
@keyframes dot-float-2 {
  0%,
  100% {
    transform: translate(0, 0);
  }
  20% {
    transform: translate(55px, 25px);
  }
  40% {
    transform: translate(-20px, -55px);
  }
  60% {
    transform: translate(-45px, 35px);
  }
  80% {
    transform: translate(30px, -20px);
  }
}
@keyframes dot-float-3 {
  0%,
  100% {
    transform: translate(0, 0);
  }
  33% {
    transform: translate(-45px, -35px);
  }
  66% {
    transform: translate(50px, 45px);
  }
}
@keyframes dot-float-4 {
  0%,
  100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(35px, 55px);
  }
  50% {
    transform: translate(-55px, -15px);
  }
  75% {
    transform: translate(20px, -50px);
  }
}

/* Hero: Fade up */
@keyframes hero-fade-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
.hero-fade-1 {
  animation: hero-fade-up 0.6s ease-out 0.1s both;
}
.hero-fade-2 {
  animation: hero-fade-up 0.6s ease-out 0.25s both;
}
.hero-fade-3 {
  animation: hero-fade-up 0.6s ease-out 0.4s both;
}

/* Hero: Gradient text shimmer */
@keyframes gradient-shift {
  0% {
    background-position: 0% center;
  }
  100% {
    background-position: 200% center;
  }
}
.hero-gradient-text {
  animation: gradient-shift 4s linear infinite;
}

/* Hero: Glowing divider */
@keyframes glow-pulse {
  0%,
  100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}
.hero-glow-line {
  animation: glow-pulse 3s ease-in-out infinite;
}

/* Hero: Marquee */
@keyframes marquee-scroll {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}
.hero-marquee {
  animation: marquee-scroll 20s linear infinite;
}

/* Theme Toggle Animation */
::view-transition-group(root) {
    animation-duration: 0.5s;
    animation-timing-function: ease-in-out;
}

::view-transition-old(root),
::view-transition-new(root) {
    mix-blend-mode: normal;
}

::view-transition-old(root) {
    z-index: 1;
}

::view-transition-new(root) {
    z-index: 9999;
}

.theme-transition-circle::view-transition-new(root) {
    animation: circle-clip 0.5s ease-in-out;
}

.theme-transition-circle::view-transition-old(root) {
    animation: none;
}

@keyframes circle-clip {
    from {
        clip-path: circle(0% at var(--theme-toggle-x, 50%) var(--theme-toggle-y, 50%));
    }
    to {
        clip-path: circle(150% at var(--theme-toggle-x, 50%) var(--theme-toggle-y, 50%));
    }
}
